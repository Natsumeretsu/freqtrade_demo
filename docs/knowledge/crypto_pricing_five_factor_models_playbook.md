# 加密货币市场五因子模型：学术进展与应用落地（本仓库版）

更新日期：2026-01-15

本文目标：

1. 把“加密资产横截面定价”的五因子/动态因子研究，翻译成**本仓库可执行的研究路径与落地边界**。
2. 明确：哪些因子可以在 **OHLCV-only（P0）** 约束下做“弱代理”，哪些必须引入 **外部数据（P2）** 才有意义。
3. 给出工程落地的最短路径：先做**离线验证（研究层）**，再决定是否接入**执行层/风控层**。

> 重要提醒：五因子、IPCA 等多数属于“横截面定价解释”框架，不等于“单币择时信号”。  
> 对本仓库而言，更常见的正确用法是：把它们当成“风险语义层/特征候选池”，而不是直接把因子组合塞进策略做高频轮动。
>
> 本项目当前主线为**单交易对时间序列预测/择时**；本文的横截面因子内容仅用于背景校准与未来扩展规划。

---

## 0) 一句话结论

五因子/动态因子模型的落地难点不在公式，而在**universe（币池）稳定性、外部数据对齐、交易成本与生存偏差治理**；本仓库应先用 `Qlib` 在研究层做离线复核，通过后再讨论接入执行层。

更宏观的因子模型生态地图与指标口径见：`docs/knowledge/crypto_factor_model_ecosystem_survey.md`。
更偏“实现细节与框架集成”的落地指导见：`docs/knowledge/crypto_factor_model_implementation_playbook.md`。

---

## 1) 主流五因子框架（学术 → 工程语义）

### 1.1 C-5（MKT/SMB/VAL/NET/MOM）

常见定义（横截面定价语境）：

- **MKT**：市值加权市场组合收益（理论上应减无风险利率，但加密的“无风险”口径需明确：USD 短久期利率或近似为 0）[1]
- **SMB**：小市值组合 - 大市值组合（需要市值与稳定的币池分位）[1]
- **VAL**：价值（加密语境常用“过去长周期收益/回撤”做代理，口径差异很大，需要谨慎）[1]
- **NET**：网络采用（例如活跃地址增长；必须引入链上数据）[1]
- **MOM**：动量（横截面：赢家-输家；与本仓库的时间序列动量不同）[1]

工程解读（本仓库落地边界）：

- **SMB/NET**：P2 才能正经做（市值 + 链上/采用指标）。在 P0（仅 OHLCV）下硬做会变成噪声或选择偏差。
- **MOM**：P0 可以先做“单币时间序列动量/趋势”（见 `docs/knowledge/crypto_risk_factors_engineering_playbook.md`），但这不等价于横截面 MOM。
- **VAL**：加密缺少统一的“账面价值”，长周期收益/回撤代理更像“慢变量”，适合作为研究特征与风险预算，而非实时硬开关。

### 1.2 替代五因子：流动性（ILLIQ）与成熟度（MATURITY）

一类替代框架会把“加密特有/可获得”的结构性变量纳入因子集，例如：

- **ILLIQ**：流动性定价（可用成交量、冲击成本、点差等；OHLCV 可做弱代理）[2]
- **MATURITY**：成熟度/币龄（币种存在时间；需要外部元数据）[2]

工程解读：

- ILLIQ：P0 可先做弱代理（`volume_z_*`、`|ret|/volume`、成交量分位等）；P1 引入盘口/点差后才更可靠。
- MATURITY：必须有“币种上线时间/存活时间”数据，建议作为 universe 过滤与风险预算上限，而非信号层。

---

## 2) 动态因子：IPCA（Instrumented PCA）为何值得关注

IPCA 的核心优势是允许因子载荷随资产特征变化（β 不是常数），因此更适合“制度快速切换 + 结构漂移”的加密市场 [3]。

工程解读（对本仓库）：

- 这类方法更像“特征 → 风险暴露/回报”的统计映射，属于研究层能力；
- 落地前必须解决：特征口径一致、缺失治理、时间对齐与稳定的 out-of-sample 评估；
- 即使最终不直接用 IPCA，本仓库也可以复用它揭示的“关键载荷驱动力”（如流动性、规模、反转、市场贝塔、下行风险）来改造特征候选池 [3]。

与“动态因子模型优于固定观测因子”的证据线索，可参考研讨会材料 [6]。

---

## 3) 传统 Fama-French 五因子在加密中的挑战（为什么要改造）

FF5 的关键困难在于：加密缺少稳定可定义的 **账面价值、盈利性、投资/资本开支** 等公司财务概念，因此：

- HML / RMW / CMA 在加密语境下往往需要替换为 **NET（网络采用）/ ILLIQ（流动性）/ MATURITY（成熟度）** 等更“原生”的变量 [4]；
- 适配后的因子更像“市场结构风险因子”，更适合研究与风险预算，而不是直接当作高频轮动信号。

---

## 4) 学术远领先于实践：落地障碍清单（必须面对）

1. **交易成本**：轮动/再平衡频率越高，手续费/点差/冲击成本越容易吞掉因子溢价（尤其是小币与做空端）。
2. **流动性与做空约束**：小币做空难、借币成本高、冲击成本大，会让“理论上的 long-short 组合”不可执行或不可扩容。
3. **生存偏差**：大量历史币种消失会严重影响样本与结论外推，必须做 survivorship-bias-aware 的数据治理 [7]。
4. **监管/交易所风险**：小币更容易被限制交易；交易所事件会让策略无法兑现（where you trade matters）。

---

## 5) 最新研究方向：Trend 因子与链上融合

- **CTREND / Trend factor**：把技术趋势（多条件指标聚合）作为横截面因子研究方向之一，可作为“趋势语义”的外部证据来源 [5]。
- **链上数据融合**：NET/鲸鱼/交易所净流等更像“慢变量”，工程落地需优先解决数据对齐、缺失与版本治理；建议先用于 universe 打分与风险预算，而不是信号层硬开关。

---

## 6) 落地到本仓库：建议分三档推进

### 6.1 P0（仅 OHLCV，默认约束）：把五因子当成“风险语义层”

你现在就能做（且更稳健）的事：

- 用本仓库已有的 `ret_*`、`vol_*`、`volume_z_*`、`hl_range`、`ema_spread` 等特征，构造“波动/流动性/趋势”的风险预算与门控（见 `docs/knowledge/crypto_risk_factors_engineering_playbook.md`）。
- 用 `scripts/qlib/factor_audit.py` / `scripts/qlib/timing_audit.py` 在研究层做体检，先回答“哪个因子在 30/60 天滚动窗口内稳定”。

不建议在 P0 直接做：

- 任何需要市值（SMB）或链上采用（NET）的横截面因子组合。

### 6.2 P1（交易所可得数据）：补齐“拥挤度/清算风险”的可观测性

优先级较高的数据：

- 资金费率、OI、爆仓（若可得）
- 点差/深度（用于 ILLIQ 的更可靠定义）

### 6.3 P2（第三方/链上）：再谈“正宗”的 SMB/NET/币龄

必须先明确三件事：

1. 数据源与许可（CoinMarketCap/Glassnode/Nansen 等）
2. 时间对齐（时区、频率、缺失值）
3. 版本治理（字段变更、口径漂移、可复现落盘）

工程落地建议：

- 先把外部数据做成“可落盘 + 可追溯”的研究层输入，再决定是否接入执行层。
- 任何新特征都应遵循本仓库的 SSOT 原则（声明在 `04_shared/config/*`，实现集中在 `03_integration/`），避免口径漂移。

---

## 7) 来源（核心条目已登记到 `docs/knowledge/source_registry.md`）

- [1] https://abfer.org/media/abfer-events-2022/annual-conference/slides-investfin/Lin-William-CONG-presentation.pdf（S-994）
- [2] https://impactum-journals.uc.pt/notaseconomicas/article/download/14048/9705（S-407）
- [3] http://wp.lancs.ac.uk/fofi2022/files/2022/08/FoFI-2022-056-Daniele-Bianchi.pdf（S-995）
- [4] http://www.emerald.com/cafr/article/25/2/145-183/14403（S-996）
- [5] https://www.cambridge.org/core/services/aop-cambridge-core/content/view/4C1509ACBA33D5DCAF0AC24379148178/S0022109024000747a.pdf/trend_factor_for_the_cross_section_of_cryptocurrency_returns.pdf（S-997）
- [6] https://www.snb.ch/dam/jcr:cd47611a-4261-4e74-bd69-061ab54433ce/sem_2023_05_26_bianchi.n.pdf（S-998）
- [7] https://arxiv.org/pdf/2308.08554.pdf（S-983）
